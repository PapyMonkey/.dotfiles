#!/usr/bin/env bash

# ***************************** V A R I A B L E S ******************************

if [[ -z $MODE ]]; then
    MODE="1920x1080"
fi

# ******************************** S C R I P T *********************************

mapfile -t SCREENS < \
    <(xrandr | grep "connected" | grep -v "disconnected" | sed "s/\s.*$//g")\
    && SCREENS=("${SCREENS[@]:1}")

printf "What do you want to do [(c)onnect/(i)nverted connect/(d)isconnect] ? "; read -r CHOICE

if [ "$CHOICE" == 'c' ]
then
    xrandr --output "${SCREENS[0]}" --mode "${MODE}" --above eDP-1
    xrandr --output "${SCREENS[1]}" --mode "${MODE}" --left-of "${SCREENS[0]}" --rotation left
fi
if [ "$CHOICE" == 'i' ]
then
    xrandr --output "${SCREENS[1]}" --mode "${MODE}" --above eDP-1
    xrandr --output "${SCREENS[0]}" --mode "${MODE}" --left-of "${SCREENS[1]}" --rotation left
fi
if [ "$CHOICE" == 'd' ]
then
    xrandr --output "${SCREENS[0]}" --off
    xrandr --output "${SCREENS[1]}" --off
fi
